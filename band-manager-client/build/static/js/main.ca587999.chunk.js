(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(55)},36:function(e,t,n){},39:function(e,t,n){},45:function(e,t,n){},53:function(e,t,n){e.exports=n.p+"static/media/sunGlassesBlue.7133d403.png"},54:function(e,t){e.exports={googleAPIKey:"AIzaSyAFkOw_i6197IVAJ40F1yaXbCWtAdCEcgo"}},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),s=n.n(c),u=(n(36),n(1)),l=n.n(u),o=n(2),i=n(8),m=(n(39),"http://localhost:5000/api"),d={create:function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/users"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},p={create:function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/session"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,console.log("response2: ",n),e.next=7,n.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),destroy:function(){var e=Object(o.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/session"),{method:"DELETE",credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),getCurrentSession:function(){var e=Object(o.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/session"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},f={all:function(){var e=Object(o.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/venues"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(o.a)(l.a.mark(function e(t,n){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/venue/").concat(t),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}}()},v={create:function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/tours"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),all:function(){var e=Object(o.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/tours"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),one:function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/tours/").concat(t),{credentials:"include"});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(o.a)(l.a.mark(function e(t,n){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/tour/").concat(n),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}}(),allConfirmed:function(){var e=Object(o.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/confirmedtours"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},b={edit:function(){var e=Object(o.a)(l.a.mark(function e(t,n){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/tours/").concat(t,"/event/").concat(n),{credentials:"include"});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}}(),create:function(){var e=Object(o.a)(l.a.mark(function e(t,n){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/tours/").concat(n,"/events"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}}(),all:function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/tours/").concat(t,"/events"),{credentials:"include"});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(o.a)(l.a.mark(function e(t,n,a){var r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/tours/").concat(t,"/event/").concat(n),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n,a){return e.apply(this,arguments)}}(),delete:function(){var e=Object(o.a)(l.a.mark(function e(t,n){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/tours/").concat(t,"/events/").concat(n),{method:"DELETE"});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()},h={countries:function(){var e=Object(o.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/countries"),{credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),regions:function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/regions"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),cities:function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/cities"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(o.a)(l.a.mark(function e(t,n){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/location/").concat(n),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}}()},E={placesDetails:function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/google-places"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),locationGeo:function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/google-place"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},k=n(14),N=n(27),g=(n(45),n(6)),y=n(3),j=function(e){return e?{type:"user:updateUser",payload:{currentUser:e}}:{type:"user:updateUser",payload:{currentUser:null}}},w=function(e){return{type:"user:showError",payload:{errors:[e],currentUser:null}}},O=Object(y.a)(function(e){return e.currentUser},function(e){return e}),x=Object(y.a)(O,function(e){return{currentUser:e}}),T={onUpdateCurrentUser:j},S=Object(g.b)(x,T)(function(e){var t=e.currentUser,a=function(){var t=Object(o.a)(l.a.mark(function t(){var n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.onUpdateCurrentUser(null),t.next=3,p.destroy();case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"NavBox"},r.a.createElement(i.c,{className:"Brand",to:"".concat("","/")},r.a.createElement("img",{src:n(53),width:"80px",height:"45px",alt:"sun glasses"})),r.a.createElement(N.a,{className:"NavbarLinkToggle blue fancy",onClick:function(e){document.querySelectorAll(".NavbarItems").forEach(function(e){return e.classList.toggle("NavbarToggleShow")})},icon:"bars"}),r.a.createElement("nav",{className:"NavBar NavbarItems"},t?r.a.createElement(i.c,{className:"fancy NavbarLink",exact:!0,to:"".concat("","/tours")},"Tours"):r.a.createElement("div",{className:"none"}),t?r.a.createElement(i.c,{className:"fancy NavbarLink",to:"".concat("","/tours/new")},"New Tour"):null),r.a.createElement("nav",{className:"Navbar right NavbarItems"},t?r.a.createElement("div",{className:"none"}):r.a.createElement(i.c,{className:"fancy NavbarLink",exact:!0,to:"".concat("","/sign_up")},"Sign Up"),t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"NavbarLink",role:"img","aria-label":"TourBus"}," \ud83d\ude8c"),r.a.createElement("h4",{id:"username"},t.username),r.a.createElement(i.c,{to:"".concat("","/"),className:"fancy NavbarLink",onClick:a},"Sign Out")):r.a.createElement(i.c,{className:"fancy NavbarLink",exact:!0,to:"".concat("","/sign_in")},"Sign In")))}),C=function(e){return r.a.createElement("div",{className:" HomePage"},r.a.createElement("div",null,r.a.createElement("h1",{id:"homepage",className:"title blue"},"Band Manager")))},U=n(5),L=Object(y.a)(function(e){return e.errors},function(e){return e}),P=Object(y.a)(function(e){return e.currentUser},function(e){return e}),F=Object(y.a)(P,L,function(e,t){return{currentUser:e,errors:t}}),I={onLogin:function(e,t){return function(){var n=Object(o.a)(l.a.mark(function n(a){var r;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.create(e);case 2:if(!(r=n.sent).error){n.next=5;break}return n.abrupt("return",a(w(r.error)));case 5:return"number"===typeof r.id&&t.history.push("/"),n.abrupt("return",a({type:"user:login",payload:{currentUser:r}}));case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},_=Object(g.b)(F,I)(function(e){var t=Object(a.useState)([]),n=Object(U.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)(function(){s([e.errors])},[e.errors]),Object(a.useEffect)(function(){s([])},[]),r.a.createElement("div",{className:"form-box"},r.a.createElement("h1",{className:"title blue"},"Sign In"),r.a.createElement("form",{className:"form",onSubmit:function(t){t.preventDefault();var n,a=t.currentTarget,r=new FormData(a);n={email:r.get("email"),password:r.get("password")},e.onLogin(n,e)}},c.length>0&&r.a.createElement("div",{className:"FormErrors"},c.map(function(e){return r.a.createElement("div",{className:"red error",key:e},e)})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"email"},"email"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"text",name:"email",defaultValue:"j@job.com"})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"password"},"password"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"password",name:"password",defaultValue:"p"})),r.a.createElement("input",{className:"button",type:"submit",value:"Sign In"})))}),A=Object(y.a)(function(e){return e.errors},function(e){return e}),D=Object(y.a)(function(e){return e.currentUser},function(e){return e}),B=Object(y.a)(D,A,function(e,t){return{currentUser:e,errors:t}}),G={onCreateAccount:function(e,t){return function(){var n=Object(o.a)(l.a.mark(function n(a){var r,c,s;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.users,n.next=3,d.create(e);case 3:if(!(c=n.sent).error){n.next=6;break}return n.abrupt("return",a(w(c.error)));case 6:if("number"!==typeof c[0].id){n.next=13;break}return n.next=9,p.create({email:c[0].email,password:r.password});case 9:if("number"!==typeof(s=n.sent).id){n.next=13;break}return t.history.push("/"),n.abrupt("return",a({type:"user:createUser",payload:{currentUser:s}}));case 13:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},M=Object(g.b)(B,G)(function(e){var t=Object(a.useState)([]),n=Object(U.a)(t,2),c=n[0],s=n[1],u=function(){var t=Object(o.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.onCreateAccount(n,e);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)(function(){s([e.errors])},[e.errors]),Object(a.useEffect)(function(){s([])},[]),r.a.createElement("div",{className:"form-box"},r.a.createElement("h1",{className:"title blue"},"Make an account"),r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=e.currentTarget,n=new FormData(t);u({users:{username:n.get("username"),email:n.get("email"),password:n.get("password"),password_digest:n.get("password_digest")}})}},c.length>0&&r.a.createElement("div",{className:"FormErrors"},c.map(function(e){return r.a.createElement("div",{className:"red error",key:e},e)})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"username"},"username"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"text",name:"username"})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"email"},"email"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"email",name:"email"})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"password"},"password"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"password",name:"password"})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"password_digest"},"password_confirmation"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"password",name:"password_digest"})),r.a.createElement("input",{className:"button",type:"submit",value:"Sign Up"})))}),V=Object(y.a)(function(e){return e.currentUser},function(e){return e}),J=Object(y.a)(V,function(e){return{currentUser:e}}),W=Object(g.b)(J)(function(e){var t=e.component,n=e.restProps,a=e.currentUser;return r.a.createElement(k.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(k.a,{to:"/sign_in"})}}))}),q=function(){return{type:"app:loading",payload:{loading:!1}}},H=function(e){return{type:"venue:showError",payload:{errors:[e]}}},z=Object(y.a)(function(e){return e.errors},function(e){return e}),R=Object(y.a)(function(e){return e.tours},function(e){return e}),K=Object(y.a)(function(e){return e.loading},function(e){return e}),X=Object(y.a)(K,R,z,function(e,t,n){return{loading:e,tours:t,errors:n}}),Y={onLoading:q,onCreateTour:function(e,t){return function(){var n=Object(o.a)(l.a.mark(function n(a){var r;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.create(e);case 2:if(r=n.sent,console.log("response: ",r),void 0!==r){n.next=6;break}return n.abrupt("return",a(H("response error")));case 6:if(!r.error){n.next=9;break}return n.abrupt("return",a(H(r.error)));case 9:if("number"!==typeof r.tour[0].id){n.next=13;break}return t.history.push("/tours"),n.abrupt("return",a({type:"tour:createTour",payload:{tours:r.tour}}));case 13:case 14:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},$=Object(g.b)(X,Y)(function(e){var t=Object(a.useState)([]),n=Object(U.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)(function(){s([e.errors])},[e.errors]),Object(a.useEffect)(function(){s([])},[]),!0===e.loading?r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"})):r.a.createElement("div",{className:"form-box"},r.a.createElement("h1",{className:"title blue"},"Create Tour"),r.a.createElement("form",{className:"form",onSubmit:function(t){t.preventDefault();var n,a=t.currentTarget,r=new FormData(a);n={tour:{title:r.get("title"),band:r.get("band")}},e.onCreateTour(n,e)}},c.length>0&&r.a.createElement("div",{className:"FormErrors"},c.map(function(e){return r.a.createElement("div",{className:"red error",key:e},e)})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"title"},"Title"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"text",name:"title"})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"band"},"Band"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"text",name:"band"})),r.a.createElement("input",{className:"button",type:"submit",value:"Create"})))}),Q=Object(y.a)(function(e){return e.tours},function(e){return e}),Z=Object(y.a)(Q,function(e){return{tours:e}}),ee={onGetTours:function(){return function(){var e=Object(o.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.all();case 2:if(void 0!==(n=e.sent)){e.next=5;break}return e.abrupt("return",t(H("response error")));case 5:if(!n.error){e.next=8;break}return e.abrupt("return",t(H("response error")));case 8:return e.abrupt("return",t({type:"tour:getTours",payload:{tours:n.tours}}));case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},te=Object(g.b)(Z,ee)(function(e){return Object(a.useEffect)(function(){e.onGetTours()},[]),0===e.tours.length?r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"})):r.a.createElement("div",{className:"TourIndexPage-box"},r.a.createElement("div",{className:"underline"},r.a.createElement("h1",{className:"title blue"},"Your Tours")),r.a.createElement("div",{className:"Tour-list"},e.tours.map(function(e){return r.a.createElement("div",{className:"List",key:e.id},r.a.createElement("h3",{className:"TourLink",key:e.id},r.a.createElement(i.b,{to:"".concat("","/tours/").concat(e.id)},e.title)))})))}),ne=function(e){var t=Object(a.useState)([]),n=Object(U.a)(t,2),c=n[0],s=n[1],u=function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.allConfirmed();case 2:t=e.sent,s(t.tours);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){u()},[]),r.a.createElement("div",{className:"TouringNetwork"},r.a.createElement("h1",{className:"blue"},"Users Touring"),c.map(function(e,t){return r.a.createElement("div",{className:"ConfirmedTour",key:t},r.a.createElement("h2",{className:"blue fancy"},e.title),r.a.createElement("p",{className:"Band"},r.a.createElement("strong",null,"Band: "),e.band))}))},ae=n(25),re=Object(y.a)(function(e){return e.events},function(e){return e}),ce=Object(y.a)(re,function(e){return{events:e}}),se=Object(g.b)(ce)(function(e){if(0===e.events.length)return r.a.createElement("div",null,r.a.createElement("h4",null,"No Current Events"));var t=Object(a.useState)([]),n=Object(U.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)(!0),l=Object(U.a)(u,2),o=l[0],i=l[1],m=function(e){document.querySelector(".On").setAttribute("class","pagination");var t,n,a=parseInt(e.currentTarget.innerText);a>1?(t=5*a-5,n=5*a-1):(t=0,n=4),document.getElementById("".concat(a)).setAttribute("class","pagination On"),d(t,n)},d=function(t,n){s(e.events.filter(function(e,a){return a>=t&&a<=n?e:null}))};return Object(a.useEffect)(function(){!function(e){o&&document.querySelector(".Paginate").lastChild.setAttribute("class","pagination On");var t=e%5;0===t&&(t=5),1===t&&(document.querySelector(".On").setAttribute("class","pagination"),document.querySelector(".Paginate").lastChild.setAttribute("class","pagination On")),d(e-t,e)}(e.events.length),i(!1)},[e.events.length]),r.a.createElement("div",{className:"EventDetails"},r.a.createElement("h2",{className:"blue"},"Events"),c.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("strong",{className:"EventTitle"},e.title),r.a.createElement("p",{className:"EventVenue"},r.a.createElement("strong",null,"Venue: ",e.venue.name)),e.venue.formatted_address?r.a.createElement("p",{className:"EventAddress"},e.venue.formatted_address):r.a.createElement("p",{className:"EventAddress"},e.venue.address),r.a.createElement("p",{className:"EventAddress"},e.venue.international_phone_number),r.a.createElement("p",{className:"EventAddress"},r.a.createElement("a",{href:"".concat(e.venue.website)},e.venue.website)),r.a.createElement("p",{className:"EventDate"},ae.prettyPrint(e.date_time)))}),r.a.createElement("div",{className:"Paginate"},function(){var t=[];if(Math.floor(e.events.length/10)===e.events.length/10){for(var n=1;n<=Math.floor(e.events.length/5);n++)t.push(r.a.createElement("div",{className:"pagination",onClick:m,id:n,key:n},n));return t}for(var a=1;a<=Math.ceil(e.events.length/5);a++)t.push(r.a.createElement("div",{className:"pagination",onClick:m,id:a,key:a},a));return t}().map(function(e){return e})))}),ue=function(e){return r.a.createElement("div",{className:"TourDetails"},r.a.createElement("div",{className:"underline"},r.a.createElement("h1",{className:"blue"},"Tour Planner"),r.a.createElement("h3",null,r.a.createElement(i.b,{to:"".concat("","/tour/").concat(e.tour.id)},e.tour.title)),r.a.createElement("small",null,"Band: ",e.tour.band)),r.a.createElement(se,{id:e.tour.id}))},le=function(e){return{type:"events:showError",payload:{errors:[e]}}},oe=function(e){return function(){var t=Object(o.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e){t.next=7;break}return t.next=3,b.all(e);case 3:if(!(a=t.sent).error){t.next=6;break}return t.abrupt("return",n(le(a.error)));case 6:return t.abrupt("return",n({type:"events:getEvents",payload:{events:a.events}}));case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},ie=Object(y.a)(function(e){return e.errors},function(e){return e}),me=Object(y.a)(function(e){return e.events},function(e){return e}),de=Object(y.a)(me,ie,function(e,t){return{events:e,errors:t}}),pe={onCreateEvent:function(e,t){return function(){var n=Object(o.a)(l.a.mark(function n(a){var r,c;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.create(e,t);case 2:if(!(r=n.sent).error){n.next=5;break}return n.abrupt("return",a(le(r.error)));case 5:if("number"!==typeof r.event.id){n.next=10;break}return n.next=8,b.all(t);case 8:return c=n.sent,n.abrupt("return",a({type:"events:createEvent",payload:{events:c.events}}));case 10:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},fe=Object(g.b)(de,pe)(function(e){var t=Object(a.useState)([]),n=Object(U.a)(t,2),c=n[0],s=n[1],u=function(){var t=Object(o.a)(l.a.mark(function t(n){var a,r,c,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=n.currentTarget,r=new FormData(a),e.selected.place_id){t.next=7;break}return t.next=6,E.placesDetails(e.selected);case 6:c=t.sent;case 7:if(!c){t.next=14;break}return t.next=10,f.update(e.selected.id,{venues:c});case 10:s=t.sent,s=c,t.next=16;break;case 14:console.log("props.selected: ",e.selected),s=e.selected;case 16:u={event:{title:r.get("title"),date_time:r.get("date_time"),address:e.selected.address,venue_id:e.selected.id,contact:s.international_phone_number}},e.onCreateEvent(u,e.id);case 17:case"end":return t.stop()}var u},t)}));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)(function(){s([e.errors])},[e.errors]),Object(a.useEffect)(function(){s([])},[e.events]),Object(a.useEffect)(function(){s([])},[]),r.a.createElement("div",{className:"EventsNewPage"},r.a.createElement("form",{className:"form",onSubmit:u},c.length>0&&r.a.createElement("div",{className:"FormErrors"},c.map(function(e){return r.a.createElement("div",{className:"red error",key:e},e)})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"title"},"Event Title")," ",r.a.createElement("br",null),r.a.createElement("input",{className:"input",name:"title",id:"title"})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"date_time"},"Date")," ",r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"date",name:"date_time"})),r.a.createElement("div",null,r.a.createElement("input",{className:"button",type:"submit",value:"Submit"}))))}),ve=n(54),be=function(e){var t=function(){var t=new window.google.maps.Map(document.getElementById(e.id),e.options);e.onMapLoad(t)},n=function(){if(window.google)t();else{var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.google.com/maps/api/js?key=".concat(ve.googleAPIKey);var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),e.addEventListener("load",function(e){t()})}};return Object(a.useEffect)(function(){n()},[e.options.center]),Object(a.useEffect)(function(){e.options.showConfirmed>0&&n()},[e.options.events]),r.a.createElement("div",{id:e.id})},he=function(e){return{type:"showError",payload:{errors:[e]}}},Ee=function(e){return function(){var t=Object(o.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.one(e);case 2:if(void 0!==(a=t.sent)){t.next=5;break}return t.abrupt("return",n(he("response error")));case 5:if(!a.error){t.next=7;break}return t.abrupt("return",n(he(a.error)));case 7:return t.abrupt("return",n({type:"tour:getTour",payload:{tour:a.tour}}));case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},ke=function(e){return{type:"venue:showError",payload:{errors:[e]}}},Ne=Object(y.a)(function(e){return e.events},function(e){return e}),ge=Object(y.a)(function(e){return e.venues},function(e){return e}),ye=Object(y.a)(function(e){return e.tour},function(e){return e}),je=Object(y.a)(ye,ge,Ne,function(e,t,n){return{tour:e,venues:t,events:n}}),we={onGetVenues:function(){return function(){var e=Object(o.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.all();case 2:if(void 0!==(n=e.sent)){e.next=5;break}return e.abrupt("return",t(ke("response error")));case 5:if(!n.error){e.next=7;break}return e.abrupt("return",t(ke(n.error)));case 7:return e.abrupt("return",t({type:"venues:getVenues",payload:{venues:n.venues}}));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},onGetTour:Ee,onGetEvents:oe},Oe=Object(g.b)(je,we)(function(e){var t=Object(a.useState)({name:"Click on a marker to add venue to your event"}),n=Object(U.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)([]),i=Object(U.a)(u,2),m=i[0],d=i[1],p=Object(a.useState)("Select Country"),f=Object(U.a)(p,2),v=f[0],b=f[1],k=Object(a.useState)([]),N=Object(U.a)(k,2),g=N[0],y=N[1],j=Object(a.useState)("Select Region"),w=Object(U.a)(j,2),O=w[0],x=w[1],T=Object(a.useState)([]),S=Object(U.a)(T,2),C=S[0],L=S[1],P=Object(a.useState)({city:"Select City"}),F=Object(U.a)(P,2),I=F[0],_=F[1],A=Object(a.useState)({lat:49.2827,lng:-123.1207}),D=Object(U.a)(A,2),B=D[0],G=D[1],M=e.match.params.id,V=function(){var e=Object(o.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(I.geo){e.next=14;break}return e.next=3,E.locationGeo({country:v,region:O,city:I.city});case 3:if(!(t=e.sent)){e.next=11;break}return e.next=7,h.update({locationData:t},I.id);case 7:n=e.sent,G(n.geo),e.next=12;break;case 11:return e.abrupt("return",null);case 12:e.next=15;break;case 14:G(I.geo);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.countries();case 2:t=e.sent,d(t.countries);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(o.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.regions(t);case 2:n=e.sent,y(n.regions);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(o.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.cities(t);case 2:n=e.sent,L(n.cities);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),H=function(e,t,n){var a=new window.google.maps.InfoWindow({content:'<div id="infoWindow">'.concat(n.name,"</div>"),position:{lat:e.latLng.lat(),lng:e.latLng.lng()}});a.addListener("domready",function(e){return document.getElementById("infoWindow")}),a.open(t)},z=function(e){s(e)};return Object(a.useEffect)(function(){e.onGetVenues(),function(t){e.onGetTour(t)}(M),J(),e.onGetEvents(M)},[]),Object(a.useEffect)(function(){"Select City"!==I.city&&V()},[I]),0===e.tour.length||0===e.venues.length?r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"})):r.a.createElement("div",{className:"TourPlanner"},r.a.createElement("div",{className:"Map-box"},r.a.createElement(be,{id:"myMap",options:{center:B,zoom:8},onMapLoad:function(t){!function(e,t){e.forEach(function(e){if(null!=e.geo&&"number"===typeof e.geo.latitude){var n=new window.google.maps.Marker({position:{lat:e.geo.latitude,lng:e.geo.longitude},map:t,title:e.name});return n.addListener("click",function(n){H(n,t,e),z(e)}),n}})}(e.venues,t)}}),r.a.createElement("h3",{className:"blue map-nav"},"Map navagation"),r.a.createElement("div",{className:"custom-select-box"},r.a.createElement("select",{className:"custom-select",name:"country",id:"country",value:"country",onChange:function(e){W({country:e.target.value}),b(e.target.value),x("Select Region"),_({city:"Select City"}),y([]),L([])}},r.a.createElement("option",{value:"Choose"},v),m.map(function(e,t){return r.a.createElement("option",{value:e.country,key:t},e.country)})),r.a.createElement("select",{className:"custom-select",name:"region",id:"region",value:"Region",onChange:function(e){q({country:v,region:e.target.value}),x(e.target.value),_({city:"Select City"}),L([])}},r.a.createElement("option",{value:"Choose"},O),g.map(function(e,t){return r.a.createElement("option",{value:e.region,key:t},e.region)})),r.a.createElement("select",{className:"custom-select",name:"cites",id:"cities",value:"city",onChange:function(e){var t=document.getElementById(e.target.value).getAttribute("class");_(C.find(function(e,n){return n===parseInt(t)?e:null}))}},r.a.createElement("option",{value:"Choose"},I.city),C.map(function(e,t){return r.a.createElement("option",{className:t,value:e.city,key:t,id:e.city},e.city)}))),r.a.createElement("h3",{className:"blue map-nav"},"Create Event"),r.a.createElement("div",{className:"EventsNewPage-box"},r.a.createElement("div",null,r.a.createElement(fe,{id:M,selected:c,events:e.events.length})),r.a.createElement("div",{className:"SelectedVenue"},r.a.createElement("div",null,r.a.createElement("strong",{className:"SelectedVenue-text"},c.name),r.a.createElement("p",{className:"SelectedVenue-text"},c.address))))),r.a.createElement("div",{className:"TourDetails-box"},r.a.createElement(ue,{tour:e.tour})))}),xe=n(25),Te=Object(y.a)(function(e){return e.tour},function(e){return e}),Se=Object(y.a)(function(e){return e.events},function(e){return e}),Ce=Object(y.a)(Te,Se,function(e,t,n){return{tour:e,events:t}}),Ue={onGetEvents:oe,onGetTour:Ee},Le=Object(g.b)(Ce,Ue)(function(e){var t=Object(a.useState)(!0),n=Object(U.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)(0),i=Object(U.a)(u,2),m=i[0],d=i[1],p=Object(a.useState)({lat:49.2827,lng:-123.1207}),f=Object(U.a)(p,1)[0],h=function(){var t=Object(o.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.update(e.match.params.id,n.currentTarget.id,{event:{confirmed:!0}});case 2:return a=t.sent,d(m+1),t.abrupt("return",a);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(o.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.update({tour:{title:e.tour.title,band:e.tour.band,confirmed:!0}},n.target.id);case 2:return a=t.sent,s(!c),t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),k=function(t){e.history.push("/tour/".concat(e.match.params.id,"/event/").concat(t.currentTarget.id))},N=function(){var t=Object(o.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.delete(e.match.params.id,n.currentTarget.id);case 2:return a=t.sent,s(!c),t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),g=function(e,t,n){var a=new window.google.maps.InfoWindow({content:'<div id="infoWindow">'.concat(n.name,"</div>"),position:{lat:e.latLng.lat(),lng:e.latLng.lng()}});a.addListener("domready",function(e){return document.getElementById("infoWindow")}),a.open(t)};return Object(a.useEffect)(function(){e.onGetTour(e.match.params.id),e.onGetEvents(e.match.params.id)},[]),Object(a.useEffect)(function(){e.onGetTour(e.match.params.id)},[c]),Object(a.useEffect)(function(){e.onGetEvents(e.match.params.id)},[c]),Object(a.useEffect)(function(){e.onGetEvents(e.match.params.id)},[m]),0===e.events.length?r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"})):r.a.createElement("div",{className:"TourShowPage-box"},r.a.createElement("div",{className:"TourShowPage",id:"scroll"},r.a.createElement("div",{className:"underline bp"},r.a.createElement("h1",{className:"blue"},e.tour.title),r.a.createElement("small",null,"Band: ",e.tour.band,r.a.createElement("strong",{className:"Confirm",onClick:function(){e.history.push("/tour/".concat(e.match.params.id,"/edit"))}}," edit")),e.tour.confirmed?r.a.createElement("p",{className:"EventConfirmed"},"Tour confirmed"):r.a.createElement("p",{className:"EventUnconfirmed"},"pending confirmation")),r.a.createElement("h2",{className:"blue"},"Events"),e.events.map(function(e){return r.a.createElement("div",{className:"EventList thin-underline",key:e.id},r.a.createElement("div",null,r.a.createElement("strong",{className:"EventTitle"},e.title),r.a.createElement("p",{className:"EventDate"},xe.prettyPrint(e.date_time)),r.a.createElement("p",{className:"EventVenue"},r.a.createElement("strong",null,"Venue:")," ",e.venue.name),e.venue.formatted_address?r.a.createElement("p",{className:"EventAddress"},e.venue.formatted_address):r.a.createElement("p",{className:"EventAddress"},e.venue.address),r.a.createElement("p",{className:"EventAddress"},e.venue.international_phone_number),r.a.createElement("p",{className:"EventAddress"},r.a.createElement("a",{href:"".concat(e.venue.website)},e.venue.website)),e.confirmed?r.a.createElement("p",{className:"EventConfirmed"},"show confirmed"):r.a.createElement("p",{className:"EventUnconfirmed"},"pending confirmation",r.a.createElement("strong",{className:"Confirm",id:e.id,onClick:h}," confirm"))),r.a.createElement("div",{className:"Buttons"},r.a.createElement("button",{className:"Edit-button",onClick:k,id:e.id},"edit"),r.a.createElement("button",{className:"Delete-button",onClick:N,id:e.id},"delete")))}),r.a.createElement("button",{className:"Confirm-button",onClick:E,id:e.tour.id},"Confirm Tour"),r.a.createElement("button",{className:"Delete-button",onClick:N,id:e.tour.id},"delete")),r.a.createElement("div",{className:"Map-box"},r.a.createElement(be,{id:"myMap",options:{center:f,zoom:8,events:e.events,showConfirmed:m},onMapLoad:function(t){!function(e,t){e.forEach(function(e){if(null!=e.venue.geo&&!0===e.confirmed){var n=new window.google.maps.Marker({position:{lat:e.venue.geo.latitude,lng:e.venue.geo.longitude},map:t,title:e.venue.name});return n.addListener("click",function(n){g(n,t,e.venue)}),n}})}(e.events,t)}})))}),Pe=function(e){var t=Object(a.useState)(null),n=Object(U.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)([]),i=Object(U.a)(u,2),m=i[0],d=i[1],p=function(){var t=Object(o.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.update(n,e.match.params.id);case 2:if((a=t.sent).error){t.next=8;break}return e.history.push("/tour/".concat(e.match.params.id)),t.abrupt("return",a);case 8:d([a.error]);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(o.a)(l.a.mark(function t(){var n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.one(e.match.params.id);case 2:n=t.sent,s(n.tour);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)(function(){f(),d([])},[]),c?r.a.createElement("div",{className:"TourEditPage"},r.a.createElement("div",{className:"form-box"},r.a.createElement("h1",{className:"title blue"},"Edit Tour"),r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=e.currentTarget,n=new FormData(t);p({tour:{title:n.get("title"),band:n.get("band")}})}},m.length>0&&r.a.createElement("div",{className:"FormErrors"},m.map(function(e){return r.a.createElement("div",{className:"red error",key:e},e)})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"title"},"Title"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"text",name:"title",defaultValue:c.title})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"band"},"Band"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"text",name:"band",defaultValue:c.band})),r.a.createElement("input",{className:"button",type:"submit",value:"Update"}),r.a.createElement("button",{className:"Delete-button",onClick:function(){e.history.push("/tour/".concat(e.match.params.id))}},"cancel")))):r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"}))},Fe=function(e){var t=Object(a.useState)({}),n=Object(U.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)([]),i=Object(U.a)(u,2),m=i[0],d=i[1],p=Object(a.useState)(""),f=Object(U.a)(p,2),v=f[0],h=f[1],E=function(){var t=Object(o.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.update(e.match.params.tourId,e.match.params.eventId,n);case 2:if((a=t.sent).error){t.next=8;break}return e.history.push("/tour/".concat(e.match.params.tourId)),t.abrupt("return",a);case 8:d([a.error]);case 9:case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.currentTarget,a=new FormData(n),E({event:{title:a.get("title"),details:a.get("details")}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=Object(o.a)(l.a.mark(function t(){var n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.edit(e.match.params.tourId,e.match.params.eventId);case 2:n=t.sent,s(n.event),n.event.details&&h(n.event.details);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)(function(){N(),d([])},[]),0===c.length?r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"})):r.a.createElement("div",{className:"EventEditPage"},r.a.createElement("h1",{className:"title blue"},"Make an account"),r.a.createElement("form",{className:"form",onSubmit:k},m.length>0&&r.a.createElement("div",{className:"FormErrors"},m.map(function(e){return r.a.createElement("div",{className:"red error",key:e},e)})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"tile"},"Title"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",defaultValue:c.title,type:"text",name:"title"})),r.a.createElement("div",null,r.a.createElement("label",{className:"label",htmlFor:"details"},"Details"),r.a.createElement("br",null),r.a.createElement("textarea",{className:"input-text",name:"details",type:"text",value:v,onChange:function(e){h(e.target.value)}})),r.a.createElement("input",{className:"button",type:"submit",value:"Update"})),r.a.createElement("button",{className:"Delete-button",onClick:function(){e.history.push("/tour/".concat(e.match.params.tourId))}},"cancel"))},Ie=function(e){return r.a.createElement("main",{className:"Container"},r.a.createElement(i.a,null,r.a.createElement(S,null),r.a.createElement("div",{className:"Website"},r.a.createElement(k.d,null,r.a.createElement(k.b,{exact:!0,path:"".concat("","/"),component:C}),r.a.createElement(W,{exact:!0,path:"".concat("","/tours/new"),component:$}),r.a.createElement(W,{exact:!0,path:"".concat("","/tours"),component:te}),r.a.createElement(k.b,{path:"".concat("","/network"),component:ne}),r.a.createElement(k.b,{path:"".concat("","/tours/:id"),component:Oe}),r.a.createElement(k.b,{exact:!0,path:"".concat("","/tour/:id/edit"),component:Pe}),r.a.createElement(k.b,{exact:!0,path:"".concat("","/tour/:id"),component:Le}),r.a.createElement(k.b,{path:"".concat("","/tour/:tourId/event/:eventId"),component:Fe}),r.a.createElement(k.b,{path:"".concat("","/sign_in"),render:function(e){return r.a.createElement(_,e)}}),r.a.createElement(k.b,{path:"".concat("","/sign_up"),render:function(e){return r.a.createElement(M,e)}})))))},_e=n(17),Ae=n(20);_e.b.add(Ae.b,Ae.c,Ae.a);var De=Object(y.a)(function(e){return e.loading},function(e){return e}),Be=Object(y.a)(function(e){return e.currentUser},function(e){return e}),Ge=Object(y.a)(De,Be,function(e,t){return{loading:e,currentUser:t}}),Me={onUpdateCurrentUser:j,onLoading:q},Ve=Object(g.b)(Ge,Me)(function(e){var t=function(){var t=Object(o.a)(l.a.mark(function t(){var n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getCurrentSession();case 2:n=t.sent,e.onUpdateCurrentUser(n),e.onLoading();case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)(function(){t()},[]),!0===e.onLoading?r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"})):r.a.createElement(i.a,null,r.a.createElement("div",{className:"App-box"},r.a.createElement(Ie,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Je=n(30),We=n(15),qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"venues:getVenues":return a.venues;default:return e}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"tour:createTour":case"tour:getTours":return a.tours;default:return e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"tour:getTour":return a.tour;default:return e}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"user:updateUser":case"user:showError":case"user:login":case"user:createUser":return a.currentUser;default:return e}},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"app:loading":return a.loading;default:return e}},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"events:createEvent":case"events:getEvents":return a.events;default:return e}},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"event:getEvent":return a.event;default:return e}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"events:showError":case"venue:showError":case"venue:showError":case"user:showError":return a.errors;default:return e}},Qe=Object(We.c)({event:Ye,events:Xe,venues:qe,tours:He,tour:ze,currentUser:Re,loading:Ke,errors:$e}),Ze=Object(We.d)(Object(We.a)(Je.a)),et=Object(We.e)(Qe,{errors:[],events:[],venues:[],tours:[],tour:{},currentUser:null,loading:!0},Ze);console.log("store: ",et.getState()),s.a.render(r.a.createElement(g.a,{store:et},r.a.createElement(Ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.ca587999.chunk.js.map